<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="700.0" prefWidth="1100.0" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controller.CalculadoraRutas">

    <center>
        <AnchorPane fx:id="paneGrafo" style="-fx-background-color: #34495e;">
            <children>
                <Label text="[ Mapa de Rutas ]" textFill="#95a5a6" AnchorPane.leftAnchor="20.0" AnchorPane.topAnchor="20.0" />
            </children>
        </AnchorPane>
    </center>

    <right>
        <VBox prefWidth="350.0" spacing="15" style="-fx-background-color: #3E536A;">
            <padding><Insets bottom="20" left="20" right="20" top="20" /></padding>

            <VBox spacing="10">
                <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: white;" text="Configurar BÃºsqueda" />
                <Separator style="-fx-background-color: #5D6D7E;" />
                <Label style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" text="Origen:" />
                <ComboBox fx:id="cbOrigen" prefWidth="Infinity" promptText="Seleccione una parada" />
                <Label style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;" text="Destino:">
                    <VBox.margin><Insets top="10.0" /></VBox.margin>
                </Label>
                <ComboBox fx:id="cbDestino" prefWidth="Infinity" promptText="Seleccione una parada" />
                <Button fx:id="btnBuscar" onAction="#buscarRutas" prefWidth="Infinity" style="-fx-background-color: #e67e22; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-cursor: hand; -fx-background-radius: 5px; -fx-padding: 10px 16px;" text="Buscar Rutas">
                    <VBox.margin><Insets top="15.0" /></VBox.margin>
                </Button>
            </VBox>

            <Separator style="-fx-background-color: #5D6D7E;" />

            <VBox fx:id="panelResultados" spacing="10" VBox.vgrow="ALWAYS">
                <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: white;" text="Resultados" />

                <ScrollPane fitToWidth="true" hbarPolicy="NEVER" style="-fx-background-color: transparent; -fx-background: transparent;" VBox.vgrow="ALWAYS">
                    <VBox spacing="15">

                        <VBox style="-fx-background-color: white; -fx-background-radius: 8px; -fx-padding: 15px;">
                            <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="ðŸ† Mejor Ruta" />
                            <Label style="-fx-font-size: 11px; -fx-text-fill: #7f8c8d;" text="(Eficiente: Equilibrio costo/tiempo)" />
                            <GridPane hgap="10" vgap="5">
                                <columnConstraints><ColumnConstraints minWidth="70" /><ColumnConstraints hgrow="ALWAYS" halignment="RIGHT" /></columnConstraints>
                                <rowConstraints><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /></rowConstraints>
                                <children>
                                    <Label text="Costo:" GridPane.rowIndex="0" /><Label fx:id="lblCosto1" text="--" style="-fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                                    <Label text="Distancia:" GridPane.rowIndex="1" /><Label fx:id="lblDistancia1" text="--" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                    <Label text="Tiempo:" GridPane.rowIndex="2" /><Label fx:id="lblTiempo1" text="--" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                    <Label text="Transb.:" GridPane.rowIndex="3" /><Label fx:id="lblTransbordos1" text="--" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                                </children>
                            </GridPane>
                            <Button fx:id="btnDetalles1" onAction="#verDetallesEficiente" prefWidth="Infinity" style="-fx-background-color: #EAECEE; -fx-cursor: hand;" text="Ver Detalles">
                                <VBox.margin><Insets top="8" /></VBox.margin>
                            </Button>
                        </VBox>

                        <VBox style="-fx-background-color: white; -fx-background-radius: 8px; -fx-padding: 15px;">
                            <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="ðŸ’² Menor Costo" />
                            <GridPane hgap="10" vgap="5">
                                <columnConstraints><ColumnConstraints minWidth="70" /><ColumnConstraints hgrow="ALWAYS" halignment="RIGHT" /></columnConstraints>
                                <rowConstraints><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /></rowConstraints>
                                <children>
                                    <Label text="Costo:" GridPane.rowIndex="0" /><Label fx:id="lblCosto2" text="--" style="-fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                                    <Label text="Distancia:" GridPane.rowIndex="1" /><Label fx:id="lblDistancia2" text="--" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                    <Label text="Tiempo:" GridPane.rowIndex="2" /><Label fx:id="lblTiempo2" text="--" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                    <Label text="Transb.:" GridPane.rowIndex="3" /><Label fx:id="lblTransbordos2" text="--" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                                </children>
                            </GridPane>
                            <Button fx:id="btnDetalles2" onAction="#verDetallesCosto" prefWidth="Infinity" style="-fx-background-color: #EAECEE; -fx-cursor: hand;" text="Ver Detalles">
                                <VBox.margin><Insets top="8" /></VBox.margin>
                            </Button>
                        </VBox>

                        <VBox style="-fx-background-color: white; -fx-background-radius: 8px; -fx-padding: 15px;">
                            <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="ðŸ“ Menor Distancia" />
                            <GridPane hgap="10" vgap="5">
                                <columnConstraints><ColumnConstraints minWidth="70" /><ColumnConstraints hgrow="ALWAYS" halignment="RIGHT" /></columnConstraints>
                                <rowConstraints><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /></rowConstraints>
                                <children>
                                    <Label text="Costo:" GridPane.rowIndex="0" /><Label fx:id="lblCosto3" text="--" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                                    <Label text="Distancia:" GridPane.rowIndex="1" /><Label fx:id="lblDistancia3" text="--" style="-fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                    <Label text="Tiempo:" GridPane.rowIndex="2" /><Label fx:id="lblTiempo3" text="--" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                    <Label text="Transb.:" GridPane.rowIndex="3" /><Label fx:id="lblTransbordos3" text="--" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                                </children>
                            </GridPane>
                            <Button fx:id="btnDetalles3" onAction="#verDetallesDistancia" prefWidth="Infinity" style="-fx-background-color: #EAECEE; -fx-cursor: hand;" text="Ver Detalles">
                                <VBox.margin><Insets top="8" /></VBox.margin>
                            </Button>
                        </VBox>

                        <VBox style="-fx-background-color: white; -fx-background-radius: 8px; -fx-padding: 15px;">
                            <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="â±ï¸ Menor Tiempo" />
                            <GridPane hgap="10" vgap="5">
                                <columnConstraints><ColumnConstraints minWidth="70" /><ColumnConstraints hgrow="ALWAYS" halignment="RIGHT" /></columnConstraints>
                                <rowConstraints><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /><RowConstraints minHeight="20" /></rowConstraints>
                                <children>
                                    <Label text="Costo:" GridPane.rowIndex="0" /><Label fx:id="lblCosto4" text="--" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                                    <Label text="Distancia:" GridPane.rowIndex="1" /><Label fx:id="lblDistancia4" text="--" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                    <Label text="Tiempo:" GridPane.rowIndex="2" /><Label fx:id="lblTiempo4" text="--" style="-fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                    <Label text="Transb.:" GridPane.rowIndex="3" /><Label fx:id="lblTransbordos4" text="--" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                                </children>
                            </GridPane>
                            <Button fx:id="btnDetalles4" onAction="#verDetallesTiempo" prefWidth="Infinity" style="-fx-background-color: #EAECEE; -fx-cursor: hand;" text="Ver Detalles">
                                <VBox.margin><Insets top="8" /></VBox.margin>
                            </Button>
                        </VBox>
                    </VBox>
                </ScrollPane>
            </VBox>

            <VBox fx:id="panelDetalles" spacing="10" visible="false" managed="false" VBox.vgrow="ALWAYS">

                <Button onAction="#volverAResultados" text="â¬… Volver a Resultados" maxWidth="Infinity"
                        style="-fx-background-color: #7f8c8d; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;"/>

                <HBox spacing="10" VBox.vgrow="ALWAYS">

                    <VBox HBox.hgrow="ALWAYS" spacing="5" style="-fx-background-color: #2c3e50; -fx-background-radius: 5; -fx-padding: 8; -fx-border-color: #F1C40F; -fx-border-width: 2; -fx-border-radius: 5;">
                        <children>
                            <Label text="â­ MEJOR OPCIÃ“N" textFill="#F1C40F" style="-fx-font-weight: bold; -fx-font-size: 11px;"/>

                            <Label fx:id="lblEstadoPrincipal" text="A TIEMPO" alignment="CENTER" maxWidth="Infinity"
                                   style="-fx-background-color: #27AE60; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 9px; -fx-padding: 2; -fx-background-radius: 3;"/>

                            <GridPane hgap="5" vgap="2">
                                <columnConstraints>
                                    <ColumnConstraints minWidth="45"/>
                                    <ColumnConstraints hgrow="ALWAYS" halignment="RIGHT"/>
                                </columnConstraints>
                                <rowConstraints>
                                    <RowConstraints minHeight="12"/><RowConstraints minHeight="12"/><RowConstraints minHeight="12"/>
                                </rowConstraints>
                                <children>
                                    <Label text="Costo:" textFill="#bdc3c7" style="-fx-font-size: 10px;"/>
                                    <Label fx:id="lblDetCosto1" text="--" textFill="white" style="-fx-font-size: 10px;" GridPane.columnIndex="1"/>

                                    <Label text="Tiempo:" textFill="#bdc3c7" style="-fx-font-size: 10px;" GridPane.rowIndex="1"/>
                                    <Label fx:id="lblDetTiempo1" text="--" textFill="white" style="-fx-font-size: 10px;" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                    <Label text="Transb.:" textFill="#bdc3c7" style="-fx-font-size: 10px;" GridPane.rowIndex="2"/>
                                    <Label fx:id="lblDetTransb1" text="--" textFill="white" style="-fx-font-size: 10px;" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                                </children>
                            </GridPane>

                            <Separator style="-fx-background-color: #7f8c8d;"/>

                            <Label text="Ruta a seguir:" textFill="#bdc3c7" style="-fx-font-size: 10px;"/>
                            <ListView fx:id="lvRutaPrincipal" VBox.vgrow="ALWAYS"
                                      style="-fx-control-inner-background: #34495e; -fx-font-size: 10px; -fx-background-color: transparent;"/>
                        </children>
                    </VBox>

                    <VBox HBox.hgrow="ALWAYS" spacing="5" style="-fx-background-color: #2c3e50; -fx-background-radius: 5; -fx-padding: 8; -fx-border-color: #E74C3C; -fx-border-width: 2; -fx-border-radius: 5;">
                        <children>
                            <Label text="âš  ALTERNATIVA" textFill="#E74C3C" style="-fx-font-weight: bold; -fx-font-size: 11px;"/>

                            <Label fx:id="lblEstadoSecundaria" text="POSIBLE RETRASO" alignment="CENTER" maxWidth="Infinity"
                                   style="-fx-background-color: #E67E22; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 9px; -fx-padding: 2; -fx-background-radius: 3;"/>

                            <GridPane hgap="5" vgap="2">
                                <columnConstraints>
                                    <ColumnConstraints minWidth="45"/>
                                    <ColumnConstraints hgrow="ALWAYS" halignment="RIGHT"/>
                                </columnConstraints>
                                <rowConstraints>
                                    <RowConstraints minHeight="12"/><RowConstraints minHeight="12"/><RowConstraints minHeight="12"/>
                                </rowConstraints>
                                <children>
                                    <Label text="Costo:" textFill="#bdc3c7" style="-fx-font-size: 10px;"/>
                                    <Label fx:id="lblDetCosto2" text="--" textFill="white" style="-fx-font-size: 10px;" GridPane.columnIndex="1"/>

                                    <Label text="Tiempo:" textFill="#bdc3c7" style="-fx-font-size: 10px;" GridPane.rowIndex="1"/>
                                    <Label fx:id="lblDetTiempo2" text="--" textFill="white" style="-fx-font-size: 10px;" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                    <Label text="Transb.:" textFill="#bdc3c7" style="-fx-font-size: 10px;" GridPane.rowIndex="2"/>
                                    <Label fx:id="lblDetTransb2" text="--" textFill="white" style="-fx-font-size: 10px;" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                                </children>
                            </GridPane>

                            <Separator style="-fx-background-color: #7f8c8d;"/>

                            <Label text="Ruta a seguir:" textFill="#bdc3c7" style="-fx-font-size: 10px;"/>
                            <ListView fx:id="lvRutaSecundaria" VBox.vgrow="ALWAYS"
                                      style="-fx-control-inner-background: #34495e; -fx-font-size: 10px; -fx-background-color: transparent;"/>
                        </children>
                    </VBox>
                </HBox>
            </VBox>

        </VBox>
    </right>
</BorderPane>